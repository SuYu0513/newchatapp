# 🚀 Renderへのデプロイガイド

## 📝 準備完了！

このアプリは既にRenderデプロイの準備ができています。

---

## 🌐 デプロイ手順（5分で完了）

### 1. Renderアカウント作成

1. [Render](https://render.com/) にアクセス
2. **Sign Up** をクリック
3. GitHubアカウントで登録（推奨）

### 2. 新しいWebサービスを作成

1. Renderダッシュボードで **New +** をクリック
2. **Web Service** を選択
3. GitHubリポジトリを接続
4. このプロジェクトのリポジトリを選択

### 3. サービス名を設定（重要！）

**推測されにくい名前にする：**
```
例: chatapp-k7m3x9w2f
例: my-secure-chat-2024x
```

❌ 避けるべき名前:
- `chatapp`（シンプルすぎ）
- `test-app`（一般的すぎ）

### 4. 環境変数を設定

**Environment** タブで以下を追加：

```
GEMINI_API_KEY=あなたのGemini APIキー
LEONARDO_API_KEY=あなたのLeonardo APIキー
```

### 5. デプロイ開始

**Create Web Service** をクリック！

---

## ⏱️ デプロイ状況

- **ビルド**: 約3-5分
- **起動**: 約1分
- **合計**: 約5-7分

ログで進行状況を確認できます。

---

## ✅ デプロイ完了後

### アクセスURL

```
https://あなたのアプリ名.onrender.com
```

### 初回アクセス

1. URLにアクセス
2. ユーザー登録
3. ログイン
4. チャット開始！

### PWAとしてインストール

1. ブラウザで上記URLを開く
2. アドレスバーの「インストール」をクリック
3. スマホのホーム画面に追加
4. **いつでもどこからでもアクセス可能！**

---

## 🔒 セキュリティ対策（実装済み）

✅ **推測困難なURL**
- ランダムな文字列を含むアプリ名

✅ **ログイン必須**
- Spring Securityで保護済み
- URLが漏れてもアカウントなしではアクセス不可

✅ **検索エンジン対策**
- robots.txtで検索結果に表示されない

✅ **HTTPS通信**
- Renderが自動でSSL証明書を発行

---

## 💰 料金

### 無料プラン
- **月間稼働時間**: 750時間
- **メモリ**: 512MB
- **帯域幅**: 100GB/月
- **スリープ**: 15分間アクセスなしでスリープ
- **起動時間**: スリープから約30秒

### 無料プランの注意点

**スリープについて:**
- 15分間アクセスがないと自動スリープ
- 次回アクセス時に約30秒で起動
- **解決策**: 友達と使う時は定期的にアクセス

**メモリ制限:**
- 512MBまで
- 通常の使用では十分

---

## 🔄 自動デプロイ

GitHubにプッシュすると**自動的に再デプロイ**されます！

```bash
git add .
git commit -m "新機能追加"
git push
```

→ Renderが自動でビルド・デプロイ

---

## 📱 使い方

### スマホから

1. `https://あなたのアプリ名.onrender.com` にアクセス
2. 「ホーム画面に追加」
3. アプリアイコンから起動

### PCから

1. ブラウザでアクセス
2. 「インストール」ボタンをクリック
3. デスクトップアプリのように使用

---

## 🐛 トラブルシューティング

### デプロイが失敗する

**原因**: Java 24がサポートされていない可能性

**解決策**: `system.properties` を作成
```properties
java.runtime.version=21
```

### アプリが起動しない

1. Renderのログを確認
2. 環境変数（APIキー）が設定されているか確認
3. ポート設定が正しいか確認

### データが消える

**原因**: SQLiteはRenderの無料プランでは永続化されません

**解決策**: 
- 有料プラン（$7/月）でディスク追加
- または PostgreSQL に移行（別ガイド参照）

---

## 🎉 完了！

これで、**いつでもどこからでも**チャットアプリにアクセスできます！

- ✅ PCを開かなくてもOK
- ✅ サーバー起動不要
- ✅ スマホからでもアクセス可能
- ✅ 友達と共有可能（URLを教えるだけ）
- ✅ 安全（ログイン必須）

---

## 📞 サポート

問題が発生したら：
1. Renderのログを確認
2. GitHubのIssueを作成
3. Renderのサポートに問い合わせ
